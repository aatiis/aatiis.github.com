(function(){var f=function(a){for(;typeof $!=="function"||!$()||!$().jquery||!$().treeview;)return setTimeout(function(){f(a)},10);a()},h=function(a){switch(a){case "Jan":return"January";case "Feb":return"February";case "Mar":return"March";case "Apr":return"April";case "May":return"May";case "Jun":return"June";case "Jul":return"July";case "Aug":return"August";case "Sep":return"September";case "Oct":return"October";case "Nov":return"November";case "Dec":return"December"}},j=function(){$.get("/data.html",i)},i=function(a){var a=eval("("+a+")"),b=$("<ul/>",{"class":"j-archive-list treeview"}),d;for(d in a)if(a.hasOwnProperty(d)){var c=a[d].date.slice(26,30);b.children(".j-year-"+c)[0]||b.append($("<li/>",{"class":"j-year-"+c}).append($("<span/>",{"class":"folder"}).text(c)));var e=h(a[d].date.slice(4,7));b.children(".j-year-"+c).find(".j-month-"+e.toLowerCase())[0]||(b.children(".j-year-"+c).find(".j-months")[0]||b.children(".j-year-"+c).append($("<ul/>",{"class":"j-months"})),b.children(".j-year-"+c).find(".j-months").append($("<li/>",{"class":"j-month-"+e.toLowerCase()}).append($("<span/>",{"class":"folder"}).text(e)).append($("<ul/>",{"class":"j-posts"}))));b.children(".j-year-"+c).find(".j-months").find(".j-month-"+e.toLowerCase()).find(".j-posts").append($("<li/>",{"class":"post j-post"}).append($("<a/>",{href:a[d].url,"class":"file"}).text(a[d].title)))}$(".j-archives").append(b).find(".j-loader").remove();b.treeview({animated:"fast",collapsed:!0});$(".j-archive-list span:first").click().parent().find("ul li:first span").click()},k=function(){$("#previews .j-loader")[0]&&($(window).scroll(g),g())},g=function(){var a=!1;return function(){!a&&$(window).scrollTop()+$(window).height()>=$("#previews .j-loader").offset().top&&($.ajax({url:"/all-posts.html?date="+Date().slice(4,15).replace(/ /g,"-").toUpperCase(),success:function(a){$("#previews").append($(a).splice(8))}}),a=!0)}}();f(function(){$(j);$(k)})})();
