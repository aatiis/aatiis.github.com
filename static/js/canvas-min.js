(function(){var m=function(a){for(;typeof $!=="function"||typeof Tween!=="function"||!($()&&$().jquery);){setTimeout(function(){m(a)},10);return}a()},o=function(a){setInterval(function(){d.clearRect(0,0,1E3,1E3);for(var b in a)if(a.hasOwnProperty(b))a[b]=a[b]().draw()},25)},p=function(a,b){if(b.x>k+b.width||b.y>l+b.height)return b.regenerate();if(b.started){d.save();d.translate(b.x,b.y);d.rotate(b.r);d.scale(b.z,b.z);d.drawImage(a,0,0,b.width,b.height);d.restore()}b.ready&&b.placeholder&&d.drawImage(a,b.orig.x,b.orig.y,b.width,b.height);return function(){return b}},q=function(a){var b=new Image,g=Math.PI*0.1+Math.random()*0.5,h=Math.random()*0.5,i=Math.pow(-1,Math.floor(Math.random()*2)),c=Math.pow(1.25+h,i),e={x:new Tween(a,"",Tween.regularEaseIn,a.x,k*(1+Math.random()*10),25*c),y:new Tween(a,"",Tween.regularEaseIn,a.y,l*Math.random(),25*c),r:new Tween(a,"",Tween.regularEaseInOut,0,a.r*g,25/(2.5+Math.random()*2.5))},j=false;a.orig={x:a.x,y:a.y};e.x.onMotionChanged=function(f){a.x=f.target._pos};e.y.onMotionChanged=function(f){a.y=f.target._pos};e.r.onMotionChanged=function(f){a.r=-f.target._pos;a.z=1-f.target._pos*h*i/g};b.onload=function(){a.ready=true;setTimeout(function(){e.x.start();e.y.start();e.r.start();a.started=true},Math.random()*a.delay)};a.draw=function(){return p(b,a)};return function(){if(!j){b.src=a.path;j=true}return a}},k=280,l=245,u=function(){var a=function(c,e,j,f,r,s,t){var n=function(){return q({path:"/media/images/skin/flower-part-"+c+".png",placeholder:e,regenerate:n,delay:2E4,height:j,width:f,x:r,y:s,r:t})};return n},b=[function(c){return a(1,c,11,36,70,33,1)()},function(c){return a(2,c,16,18,75,22,0.4)()},function(c){return a(3,c,15,5,68,20,-1)()},function(c){return a(1,c,11,36,155,53,1)()},function(c){return a(2,c,16,18,165,43,0.4)()},function(c){return a(3,c,15,5,155,43,-1)()},function(c){return a(1,c,11,36,28,68,1)()},function(c){return a(2,c,16,18,40,58,0.4)()},function(c){return a(3,c,15,5,32,58,-1)()}],g=[];for(var h in b)if(b.hasOwnProperty(h)){g.push(b[h](true));for(var i=2;i>0;i--)g.push(b[h](false))}return g},d,v=function(){var a=$("<canvas/>",{"class":"canvas",width:k,height:l});if(a[0].getContext){d=a[0].getContext("2d");o(u());$(".j-canvas").replaceWith(a)}};m(function(){$(v)})})();
